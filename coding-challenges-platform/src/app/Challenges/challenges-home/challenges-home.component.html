<div class="home-container surface-ground px-4 py-5 md:px-6 lg:px-8">
  <div class="grid">
    <!-- Filter Card (Left Side) -->
    <div class="col-12 md:col-4 lg:col-3 filter-card">
      <div class="surface-card shadow-2 p-3 border-round sticky-card">
        <h3 class="mb-3">Filters</h3>

        <!-- Search Text Box -->
        <div class="field mb-3 full-width">
          <p-floatlabel variant="on">
            <input
            class="w-full "
              id="search"
              pInputText
              type="text"
              
              [(ngModel)]="filters.keyword"
              (input)="applyFilters()"
            />
            <label for="search">Search Challenges</label>
          </p-floatlabel>
        </div>

        <!-- Difficulty Select -->
        <div class="field mb-3 full-width">
          <p-select
            class="w-full "
            [options]="difficultyOptions"
            [(ngModel)]="filters.difficulty"
            placeholder="Select Difficulty"
            (onChange)="applyFilters()"
          ></p-select>
        </div>

        <!-- Collection Select -->
        <div class="field mb-3 full-width">
          <p-select
          class="w-full "
            [options]="collectionOptions"
            [(ngModel)]="filters.collection"
            placeholder="Select Collection"
            (onChange)="applyFilters()"
          ></p-select>
        </div>

        <!-- Sort By Select -->
        <div class="field mb-3 full-width">
          <p-select
          class="w-full "
            [options]="sortOptions"
            [(ngModel)]="filters.sort"
            placeholder="Sort by Date"
            (onChange)="applyFilters()"
          ></p-select>
        </div>
      </div>
    </div>

    <!-- Challenges Grid -->
    <div class="col-12 md:col-8 lg:col-9">
      <div class="grid">
        <div
          *ngFor="let challenge of filteredChallenges"
          class="col-12 md:col-6"
        >
          <div class="surface-card shadow-2 p-3 border-round challenge-card">
            <!-- Difficulty Chip -->
            <p-chip 
              [label]="challenge.difficulty"
              [styleClass]="'chip-' + (challenge.difficulty | lowercase)"
              [style.position]="'absolute'"
              [style.top]="'1rem'"
              [style.right]="'1rem'"
            ></p-chip>

            <div class="card-header flex align-items-center">
              <i class="pi pi-code text-blue-500 text-3xl mr-3"></i>
              <h5 class="mb-0">{{ challenge.title }}</h5>
            </div>
            <p class="text-500 mt-2 collection-heading">
              Collection: {{ challenge.collection }}
            </p>
            <p class="text-500 mt-1">{{ challenge.description }}</p>
            <div class="mt-3 flex align-items-center justify-content-between">
                <!-- Start Challenge Button -->
                <button
                  pButton
                  label="Start Challenge"
                  class="p-button-primary"
                ></button>
              
                <!-- Date with Calendar Icon -->
                <div class="challenge-date flex align-items-center">
                  <i class="pi pi-calendar text-500 mr-2"></i>
                  <span class="text-500">{{ challenge.date }}</span>
                </div>
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
